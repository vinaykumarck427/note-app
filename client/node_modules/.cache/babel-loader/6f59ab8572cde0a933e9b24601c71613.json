{"ast":null,"code":"var _jsxFileName = \"/home/vinay/feb-mern-fs/node-express/note-app/client/src/component/notes/Edit.js\";\nimport React from 'react';\nimport NoteForm from './Form';\nimport axios from '../../config/config';\nimport { Link } from 'react-router-dom';\nimport { setNote } from '../../actions';\n\nclass NoteEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTags: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    axios.get(\"/notes/\".concat(id), {\n      headers: {\n        'x-auth': localStorage.getItem('userAuthToken')\n      }\n    }).then(response => {\n      this.props.dispatch(setNote(response.data));\n      this.setState(() => ({\n        selectedTags: response.data.tags\n      }));\n    });\n  }\n\n  handleSubmit(formData) {\n    axios.put(\"/notes/\".concat(this.props.note._id), formData, {\n      headers: {\n        'x-auth': localStorage.getItem('userAuthToken')\n      }\n    }).then(response => {\n      if (response.data.hasOwnProperty('errors')) {\n        console.log(response.data.errors);\n      } else {\n        this.props.history.push(\"/notes/\".concat(this.props.match.params.id));\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Edit the Note\"), React.createElement(NoteForm, {\n      note: this.props.note,\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(Link, {\n      className: \"Link\",\n      to: \"/notes/\".concat(this.props.match.params.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Back\"));\n  }\n\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    state: state.note\n  };\n};\n\nexport default connect(mapStateToProps)(NoteEdit);","map":{"version":3,"sources":["/home/vinay/feb-mern-fs/node-express/note-app/client/src/component/notes/Edit.js"],"names":["React","NoteForm","axios","Link","setNote","NoteEdit","Component","constructor","props","state","selectedTags","handleSubmit","bind","componentDidMount","id","match","params","get","headers","localStorage","getItem","then","response","dispatch","data","setState","tags","formData","put","note","_id","hasOwnProperty","console","log","errors","history","push","render","mapStateToProps","connect"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,QAArB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAAQC,OAAR,QAAsB,eAAtB;;AAEA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAC;AADJ,KAAb;AAGA,SAAKC,YAAL,GAAkB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAlB;AACH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,UAAMC,EAAE,GAAG,KAAKN,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBF,EAAnC;AACAZ,IAAAA,KAAK,CAACe,GAAN,kBAAoBH,EAApB,GAA0B;AACtBI,MAAAA,OAAO,EAAE;AACL,kBAAUC,YAAY,CAACC,OAAb,CAAqB,eAArB;AADL;AADa,KAA1B,EAKCC,IALD,CAKMC,QAAQ,IAAI;AACd,WAAKd,KAAL,CAAWe,QAAX,CAAoBnB,OAAO,CAACkB,QAAQ,CAACE,IAAV,CAA3B;AACA,WAAKC,QAAL,CAAc,OAAO;AAACf,QAAAA,YAAY,EAACY,QAAQ,CAACE,IAAT,CAAcE;AAA5B,OAAP,CAAd;AACH,KARD;AASH;;AACDf,EAAAA,YAAY,CAACgB,QAAD,EAAU;AAClBzB,IAAAA,KAAK,CAAC0B,GAAN,kBAAoB,KAAKpB,KAAL,CAAWqB,IAAX,CAAgBC,GAApC,GAA2CH,QAA3C,EAAqD;AACjDT,MAAAA,OAAO,EAAE;AACL,kBAAUC,YAAY,CAACC,OAAb,CAAqB,eAArB;AADL;AADwC,KAArD,EAKCC,IALD,CAKMC,QAAQ,IAAI;AACd,UAAGA,QAAQ,CAACE,IAAT,CAAcO,cAAd,CAA6B,QAA7B,CAAH,EAA0C;AACtCC,QAAAA,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACE,IAAT,CAAcU,MAA1B;AACH,OAFD,MAEK;AACD,aAAK1B,KAAL,CAAW2B,OAAX,CAAmBC,IAAnB,kBAAkC,KAAK5B,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBF,EAA1D;AACH;AACJ,KAXD;AAYH;;AACDuB,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAK7B,KAAL,CAAWqB,IAA3B;AAAiC,MAAA,YAAY,EAAE,KAAKlB,YAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAuB,MAAA,EAAE,mBAAY,KAAKH,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBF,EAApC,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADJ;AAQH;;AA5CiC;;AA8CtC,MAAMwB,eAAe,GAAG,UAAS7B,KAAT,EAAe;AACnC,SAAO;AACHA,IAAAA,KAAK,EAACA,KAAK,CAACoB;AADT,GAAP;AAGH,CAJD;;AAKA,eAAeU,OAAO,CAACD,eAAD,CAAP,CAAyBjC,QAAzB,CAAf","sourcesContent":["import React from 'react'\nimport NoteForm from './Form'\nimport axios from '../../config/config'\n\nimport { Link } from 'react-router-dom'\nimport {setNote} from '../../actions'\n\nclass NoteEdit extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            selectedTags:[]\n        }\n        this.handleSubmit=this.handleSubmit.bind(this)\n    }\n\n    componentDidMount(){\n        const id = this.props.match.params.id\n        axios.get(`/notes/${id}`, {\n            headers: {\n                'x-auth': localStorage.getItem('userAuthToken')\n            }\n        })\n        .then(response => {\n            this.props.dispatch(setNote(response.data))\n            this.setState(() => ({selectedTags:response.data.tags}))\n        })\n    }\n    handleSubmit(formData){\n        axios.put(`/notes/${this.props.note._id}`, formData, {\n            headers: {\n                'x-auth': localStorage.getItem('userAuthToken')\n            }\n        })\n        .then(response => {\n            if(response.data.hasOwnProperty('errors')){\n                console.log(response.data.errors)\n            }else{\n                this.props.history.push(`/notes/${this.props.match.params.id}`)\n            }\n        })\n    }\n    render(){\n        return(\n            <div>\n                <h2>Edit the Note</h2>\n                <NoteForm note={this.props.note} handleSubmit={this.handleSubmit}/>\n                <Link className=\"Link\" to={`/notes/${this.props.match.params.id}`}>Back</Link>\n            </div>\n            \n        )\n    }\n}\nconst mapStateToProps = function(state){\n    return {\n        state:state.note\n    }\n}\nexport default connect(mapStateToProps)(NoteEdit);"]},"metadata":{},"sourceType":"module"}