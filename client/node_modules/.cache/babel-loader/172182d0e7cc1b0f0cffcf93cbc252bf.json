{"ast":null,"code":"var _jsxFileName = \"/home/vinay/feb-mern-fs/node-express/note-app/client/src/component/notes/Edit.js\";\nimport React from 'react';\nimport NoteForm from './Form';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nclass NoteEdit extends React.Component {\n  constructor(props) {\n    console.log('edit note constructor');\n    super(props);\n    this.state = {\n      note: {},\n      selectedTags: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    console.log('cdm - get note information');\n    const id = this.props.match.params.id;\n    axios.get(\"http://localhost:3006/notes/\".concat(id), {\n      headers: {\n        'x-auth': localStorage.getItem('userAuthToken')\n      }\n    }).then(response => {\n      this.setState(() => ({\n        note: response.data,\n        selectedTags: response.data.tags\n      }));\n    });\n  }\n\n  handleSubmit(formData) {\n    axios.put(\"http://localhost:3006/notes/\".concat(this.state.note._id), formData, {\n      headers: {\n        'x-auth': localStorage.getItem('userAuthToken')\n      }\n    }).then(response => {\n      if (response.data.hasOwnProperty('errors')) {\n        console.log(response.data.errors);\n      } else {\n        this.props.history.push(\"/notes/\".concat(this.props.match.params.id));\n      }\n    });\n  }\n\n  render() {\n    console.log('edit note render');\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Edit the Note\"), React.createElement(NoteForm, {\n      note: this.state.note,\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/notes/\".concat(this.props.match.params.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Back\"));\n  }\n\n}\n\nexport default NoteEdit;","map":{"version":3,"sources":["/home/vinay/feb-mern-fs/node-express/note-app/client/src/component/notes/Edit.js"],"names":["React","NoteForm","axios","Link","NoteEdit","Component","constructor","props","console","log","state","note","selectedTags","handleSubmit","bind","componentDidMount","id","match","params","get","headers","localStorage","getItem","then","response","setState","data","tags","formData","put","_id","hasOwnProperty","errors","history","push","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,QAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,UAAMF,KAAN;AACA,SAAKG,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAC,EADI;AAETC,MAAAA,YAAY,EAAC;AAFJ,KAAb;AAIA,SAAKC,YAAL,GAAkB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAlB;AACH;;AAEDC,EAAAA,iBAAiB,GAAE;AACfP,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACA,UAAMO,EAAE,GAAG,KAAKT,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwBF,EAAnC;AACAd,IAAAA,KAAK,CAACiB,GAAN,uCAAyCH,EAAzC,GAA+C;AAC3CI,MAAAA,OAAO,EAAE;AACL,kBAAUC,YAAY,CAACC,OAAb,CAAqB,eAArB;AADL;AADkC,KAA/C,EAKCC,IALD,CAKMC,QAAQ,IAAI;AACd,WAAKC,QAAL,CAAc,OAAO;AAACd,QAAAA,IAAI,EAACa,QAAQ,CAACE,IAAf;AAAoBd,QAAAA,YAAY,EAACY,QAAQ,CAACE,IAAT,CAAcC;AAA/C,OAAP,CAAd;AACH,KAPD;AAQH;;AACDd,EAAAA,YAAY,CAACe,QAAD,EAAU;AAClB1B,IAAAA,KAAK,CAAC2B,GAAN,uCAAyC,KAAKnB,KAAL,CAAWC,IAAX,CAAgBmB,GAAzD,GAAgEF,QAAhE,EAA0E;AACtER,MAAAA,OAAO,EAAE;AACL,kBAAUC,YAAY,CAACC,OAAb,CAAqB,eAArB;AADL;AAD6D,KAA1E,EAKCC,IALD,CAKMC,QAAQ,IAAI;AACd,UAAGA,QAAQ,CAACE,IAAT,CAAcK,cAAd,CAA6B,QAA7B,CAAH,EAA0C;AACtCvB,QAAAA,OAAO,CAACC,GAAR,CAAYe,QAAQ,CAACE,IAAT,CAAcM,MAA1B;AACH,OAFD,MAEK;AACD,aAAKzB,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,kBAAkC,KAAK3B,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwBF,EAA1D;AACH;AACJ,KAXD;AAYH;;AACDmB,EAAAA,MAAM,GAAE;AACJ3B,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,IAA3B;AAAiC,MAAA,YAAY,EAAE,KAAKE,YAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,IAAD;AAAM,MAAA,EAAE,mBAAY,KAAKN,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwBF,EAApC,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADJ;AAQH;;AA/CiC;;AAiDtC,eAAeZ,QAAf","sourcesContent":["import React from 'react'\nimport NoteForm from './Form'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nclass NoteEdit extends React.Component{\n    constructor(props){\n        console.log('edit note constructor')\n        super(props)\n        this.state = {\n            note:{},\n            selectedTags:[]\n        }\n        this.handleSubmit=this.handleSubmit.bind(this)\n    }\n\n    componentDidMount(){\n        console.log('cdm - get note information')\n        const id = this.props.match.params.id\n        axios.get(`http://localhost:3006/notes/${id}`, {\n            headers: {\n                'x-auth': localStorage.getItem('userAuthToken')\n            }\n        })\n        .then(response => {\n            this.setState(() => ({note:response.data,selectedTags:response.data.tags}))\n        })\n    }\n    handleSubmit(formData){\n        axios.put(`http://localhost:3006/notes/${this.state.note._id}`, formData, {\n            headers: {\n                'x-auth': localStorage.getItem('userAuthToken')\n            }\n        })\n        .then(response => {\n            if(response.data.hasOwnProperty('errors')){\n                console.log(response.data.errors)\n            }else{\n                this.props.history.push(`/notes/${this.props.match.params.id}`)\n            }\n        })\n    }\n    render(){\n        console.log('edit note render')\n        return(\n            <div>\n                <h2>Edit the Note</h2>\n                <NoteForm note={this.state.note} handleSubmit={this.handleSubmit}/>\n                <Link to={`/notes/${this.props.match.params.id}`}>Back</Link>\n            </div>\n            \n        )\n    }\n}\nexport default NoteEdit"]},"metadata":{},"sourceType":"module"}